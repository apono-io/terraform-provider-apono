---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "apono_access_flow Resource - terraform-provider-apono"
subcategory: ""
description: |-
  Apono Access Flow
---

# apono_access_flow (Resource)

Apono Access Flow

## Example Usage

```terraform
resource "apono_access_flow" "postgresql_prod" {
  name                = "access to PROD DB"
  active              = true
  revoke_after_in_sec = 3600
  trigger = {
    type = "user_request"
    timeframe = {
      start_time   = "00:00:00"
      end_time     = "23:59:59"
      days_in_week = ["MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY"]
      time_zone    = "Asia/Jerusalem"
    }
  }
  grantees = [
    {
      name = "person@example.com"
      type = "user"
    },
    {
      name = "R&D Team"
      type = "group"
    }
  ]
  integration_targets = [
    {
      name          = "DB Prod"
      resource_type = "postgresql-db"
      permissions   = ["READ_ONLY", "READ_WRITE", "ADMIN"]
    }
  ]
  settings = {
    approver_cannot_approve_himself = true
    require_approver_justification  = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `active` (Boolean) Is Access Flow active
- `grantees` (Attributes Set) Represents which identities should be granted access (see [below for nested schema](#nestedatt--grantees))
- `integration_targets` (Attributes Set) Represents number of resources from integration to grant access to. If both include and exclude filters are omitted then all resources will be targeted (see [below for nested schema](#nestedatt--integration_targets))
- `name` (String) Access Flow name
- `revoke_after_in_sec` (Number) Number of seconds after which access should be revoked, -1 means never
- `trigger` (Attributes) Access Flow trigger (see [below for nested schema](#nestedatt--trigger))

### Optional

- `approvers` (Attributes Set) Represents which identities should approve this access (see [below for nested schema](#nestedatt--approvers))
- `settings` (Attributes) Access Flow settings (see [below for nested schema](#nestedatt--settings))

### Read-Only

- `id` (String) Access Flow identifier

<a id="nestedatt--grantees"></a>
### Nested Schema for `grantees`

Required:

- `name` (String) Identity Name (in user type, use email address instead)
- `type` (String) Identity type (user, group, context_attribute)


<a id="nestedatt--integration_targets"></a>
### Nested Schema for `integration_targets`

Required:

- `name` (String) Target Integration name (must match existing integration name)
- `permissions` (Set of String) Permissions to grant
- `resource_type` (String) Target resource type

Optional:

- `resource_exclude_filters` (Attributes Set) Exclude every resource that matches one of this filters (see [below for nested schema](#nestedatt--integration_targets--resource_exclude_filters))
- `resource_include_filters` (Attributes Set) Include every resource that matches one of this filters (see [below for nested schema](#nestedatt--integration_targets--resource_include_filters))

<a id="nestedatt--integration_targets--resource_exclude_filters"></a>
### Nested Schema for `integration_targets.resource_exclude_filters`

Required:

- `type` (String) Filter type, can be 'id', 'name' or 'tag'
- `value` (String) Filter value

Optional:

- `name` (String) Filter name, only used when type is 'tag'


<a id="nestedatt--integration_targets--resource_include_filters"></a>
### Nested Schema for `integration_targets.resource_include_filters`

Required:

- `type` (String) Filter type, can be 'id', 'name' or 'tag'
- `value` (String) Filter value

Optional:

- `name` (String) Filter name, only used when type is 'tag'



<a id="nestedatt--trigger"></a>
### Nested Schema for `trigger`

Required:

- `type` (String) Type of trigger, currently only 'user_request' is supported

Optional:

- `timeframe` (Attributes) Timeframe for trigger to be active (see [below for nested schema](#nestedatt--trigger--timeframe))

<a id="nestedatt--trigger--timeframe"></a>
### Nested Schema for `trigger.timeframe`

Required:

- `days_in_week` (Set of String) Days in week when timeframe is active (in uppercase)
- `end_time` (String) Timeframe end time, must be in HH:MM:SS format
- `start_time` (String) Timeframe start time, must be in HH:MM:SS format
- `time_zone` (String) Timezone for timeframe, use timezone name (e.g. Europe/Prague). For all options see [Wiki Page](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#List)



<a id="nestedatt--approvers"></a>
### Nested Schema for `approvers`

Required:

- `name` (String) Identity Name (in user type, use email address instead)
- `type` (String) Identity type (user, group, context_attribute)


<a id="nestedatt--settings"></a>
### Nested Schema for `settings`

Optional:

- `approver_cannot_approve_himself` (Boolean) Approver cannot approve himself
- `require_all_approvers` (Boolean) Require all approvers
- `require_justification_on_request_again` (Boolean) Require justification on request again
